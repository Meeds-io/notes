<configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xsi:schemaLocation="http://www.exoplaform.org/xml/ns/kernel_1_2.xsd http://www.exoplaform.org/xml/ns/kernel_1_2.xsd"
               xmlns="http://www.exoplaform.org/xml/ns/kernel_1_2.xsd">

  <component>
    <type>org.exoplatform.addons.notes.jpa.mock.DummyDependantComponent</type>
  </component>

  <component>
    <key>org.exoplatform.addons.notes.service.DataStorage</key>
    <type>org.exoplatform.addons.notes.jpa.JPADataStorage</type>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.dao.WikiDAO</type>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.dao.PageDAO</type>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.dao.PageAttachmentDAO</type>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.dao.DraftPageAttachmentDAO</type>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.dao.PageVersionDAO</type>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.dao.PageMoveDAO</type>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.dao.TemplateDAO</type>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.dao.EmotionIconDAO</type>
  </component>

  <component>
    <key>org.exoplatform.addons.notes.service.WikiService</key>
    <type>org.exoplatform.addons.notes.service.impl.WikiServiceImpl</type>
    <init-params>
      <value-param>
        <name>wiki.editPage.livingTime</name>
        <value>${wiki.editPage.livingTime:1800000}</value>
        <!-- 30m * 60s * 1000ms -->
      </value-param>
      <value-param>
        <name>attachment.upload.limit</name>
        <value>10</value>
      </value-param>
      <properties-param>
        <name>preferences</name>
        <property name="defaultSyntax" value="xhtml/1.0"/>
      </properties-param>
    </init-params>
  </component>
  <component>
    <type>org.exoplatform.addons.notes.jpa.search.WikiElasticUnifiedSearchServiceConnector</type>
    <init-params>
      <properties-param>
        <name>constructor.params</name>
        <property name="searchType" value="wiki"/>
        <property name="displayName" value="Wiki"/>
        <property name="index" value="wiki_alias"/>
        <property name="type" value="wiki-page,wiki-attachment"/>
        <property name="enable" value="${exo.unified-search.connector.wiki.enable:true}"/>
        <property name="titleField" value="title"/>
        <property name="updatedDateField" value="updatedDate"/>
        <property name="searchFields" value="name,title,content,comment,attachment.content"/>
      </properties-param>
    </init-params>
  </component>

</configuration>
